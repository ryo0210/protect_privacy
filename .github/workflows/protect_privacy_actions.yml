name: protect_privacy

on: [push, pull_request]
jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout
      uses: actions/checkout@v3

    - name: Build the Docker image
      run: docker image build -t protect_privacy:latest .

    - name: Docker container up
      run: docker run --name protect_privacy -v ${PWD}/src:/protect_privacy protect_privacy:latest

    - name: Run pytest
      run: pip show pytest
      run: pip list
      run: pytest
